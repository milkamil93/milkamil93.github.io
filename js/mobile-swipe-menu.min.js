/**
 * @package        mobile-swipe-menu
 * @version        2.0.1
 * @description    Swipe Menu with Vanilla JS for mobile
 * @author         milkamil93
 * @copyright      2020 mobile-swipe-menu
 * @license        GPL-3.0
 * @link           https://github.com/milkamil93/mobile-swipe-menu
*/!function(n){var i={};function s(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=n,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,n){"use strict";n.r(e);var i=n(0),d=n.n(i),s=n(1),o=n.n(s),r=(o()(a,[{key:"set",value:function(t,e){this[t]=e}},{key:"get",value:function(t){return this[t]}},{key:"eventListener",value:function(t){t.addEventListener("mousedown",this.handleTouchStart.bind(this)),t.addEventListener("touchstart",this.handleTouchStart.bind(this)),t.addEventListener("mousemove",this.handleTouchMove.bind(this)),t.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),t.addEventListener("mouseup",this.handleTouchEnd.bind(this)),t.addEventListener("touchend",this.handleTouchEnd.bind(this))}},{key:"getTouches",value:function(t){var e={offsetX:0,offsetY:0},n=t.touches?t.touches[0]:!!t.originalEvent&&t.originalEvent.touches[0];return n?(e.offsetX=Math.round(n.clientX),e.offsetY=Math.round(n.clientY)):(e.offsetX=Math.round(t.clientX),e.offsetY=Math.round(t.clientY)),e}},{key:"handleTouchStart",value:function(t){var e=this.getTouches(t);this.set("inWork",!0),this.set("xDown",e.offsetX),this.set("yDown",e.offsetY),this.set("xStart",e.offsetX),this.set("yStart",e.offsetY),this.start(t)}},{key:"handleTouchMove",value:function(t){if(!this.get("inWork"))return!1;var e=this.getTouches(t);this.set("xCurrent",e.offsetX-this.get("xStart")),this.set("yCurrent",e.offsetY-this.get("yStart"));var n=this.get("xDown")-e.offsetX,i=this.get("yDown")-e.offsetY;if(this.get("currentDirection")||this.setDirection(t,n,i),this.drag(t),!this.get("xDown")||!this.get("yDown"))return!1;this.setDirection(t,n,i),this.set("xDown",null),this.set("yDown",null)}},{key:"setDirection",value:function(t,e,n){Math.abs(e)>Math.abs(n)?0<e?(this.set("currentDirection","left"),this.left(t)):(this.set("currentDirection","right"),this.right(t)):0<n?(this.set("currentDirection","up"),this.up(t)):(this.set("currentDirection","down"),this.down(t))}},{key:"handleTouchEnd",value:function(t){this.set("inWork",!1),this.stop(t)}},{key:"drag",value:function(t){t.target.style.transition="none",t.target.style.transform="translate(".concat(this.get("xCurrent"),"px, ").concat(this.get("yCurrent"),"px)")}},{key:"left",value:function(t){}},{key:"right",value:function(t){}},{key:"up",value:function(t){}},{key:"down",value:function(t){}},{key:"start",value:function(t){}},{key:"stop",value:function(t){}}]),a),h=(o()(f,[{key:"connectElement",value:function(t){this.element="string"==typeof t?document.querySelector(t):t,this.element.style.height="100%",this.element.style.top="0",this.element.style.zIndex="1000",this.element.style.position="fixed",this.windowWidth=window.innerWidth-this.scrollWidth(),this.width=this.width||this.windowWidth,this.element.style.width=this.width+"px",this.element.style[this.mode]=-this.width+"px"}},{key:"createHook",value:function(){var t=document.createElement("div");t.style.width=this.hookWidth+"px",t.style.height="100%",t.style.top="0",t.style.position="absolute","right"===this.mode?t.style.left="-".concat(this.hookWidth,"px"):t.style.right="-".concat(this.hookWidth,"px"),t.style.cursor="pointer",this.element.append(t)}},{key:"openRightMenu",value:function(){this.transition(),this.element.style.transform="translateX(-".concat(this.width,"px)"),this.isOpened=!0,this.events.opening.bind(this)()}},{key:"closeRightMenu",value:function(){this.transition(),this.element.style.transform="translateX(0px)",this.isOpened=!1,this.events.closing.bind(this)()}},{key:"openLeftMenu",value:function(){this.transition(),this.element.style.transform="translateX(".concat(this.width,"px)"),this.isOpened=!0,this.events.opening.bind(this)()}},{key:"closeLeftMenu",value:function(){this.transition(),this.element.style.transform="translateX(0px)",this.isOpened=!1,this.events.closing.bind(this)()}},{key:"transition",value:function(){var t=this;this.element.style.transitionDuration="300ms",setTimeout(function(){t.element.style.transitionDuration="0ms"},200)}},{key:"init",value:function(){var i=this,s=this.element,t=this.enableBodyHook?document.body:this.element;t.style["touch-action"]="pan-y",t.style["-ms-touch-action"]="pan-y";var e=new r(t);e.start=function(t){var e=new WebKitCSSMatrix(getComputedStyle(s).transform).m41,n=this.getTouches(t).offsetX;e&&this.set("xStart",n-e)},e.drag=function(t){0<=["left","right"].indexOf(this.currentDirection)&&"touchmove"===t.type&&(t.stopImmediatePropagation(),t.stopPropagation(),t.cancelable&&t.preventDefault()),i.events.drag.bind(i)(this);var e=this.get("xCurrent"),n=Math.floor(s.getBoundingClientRect().left)-(i.windowWidth-i.width);if("right"===i.mode)switch(this.currentDirection){case"left":0<n&&i.width>=n&&(-e>i.width?e=-i.width:0<e&&(e=0),s.style.transform="translateX("+e+"px)");break;case"right":i.windowWidth>n&&(-e<0?e=0:-e>i.width&&(e=-i.width),s.style.transform="translateX(".concat(e,"px)"))}else if("left"===i.mode)switch(this.currentDirection){case"right":n<0&&(e>i.width?e=i.width:e<=0&&(e=0),s.style.transform=" 'translateX(".concat(e,"px)'"));break;case"left":-n<i.windowWidth&&(e>i.width?e=i.width:e<0&&(e=0),s.style.transform=" 'translateX(".concat(e,"px)'"))}},e.stop=function(){var t=Math.floor(s.getBoundingClientRect().left);if("right"===i.mode)switch(t-=i.windowWidth-i.width,this.currentDirection){case"left":t<i.width?i.openRightMenu():s.style.transform="translateX(0px)";break;case"right":0<t?i.closeRightMenu():s.style.transform="translateX(-".concat(i.width,"px)")}else if("left"===i.mode)switch(this.currentDirection){case"right":-t<i.width?i.openLeftMenu():s.style.transform="translateX(0px)";break;case"left":t<0?i.closeLeftMenu():s.style.transform="'translateX(".concat(i.width,"px)'")}}}},{key:"scrollWidth",value:function(){var t,e=this._scrollWidth;return!1===e&&((t=document.createElement("div")).style.overflowY="scroll",t.style.width="50px",t.style.height="50px",document.body.append(t),this._scrollWidth=t.offsetWidth-t.clientWidth,t.remove()),e}},{key:"open",value:function(){"right"===this.mode?this.openRightMenu():this.openLeftMenu()}},{key:"close",value:function(){"right"===this.mode?this.closeRightMenu():this.closeLeftMenu()}},{key:"toggle",value:function(){this.isOpened?this.close():this.open()}}]),f);function f(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d()(this,f);var n=e.mode,i=void 0===n?"right":n,s=e.width,o=void 0===s?0:s,r=e.hookWidth,h=void 0===r?30:r,a=e.enableBodyHook,l=void 0!==a&&a,u=e.events,c=void 0===u?{}:u;this.mode=i,this.width=o,this.hookWidth=h,this.enableBodyHook=l,this.windowWidth=0,this._scrollWidth=!1,this.isOpened=!1,this.events=Object.assign({opening:function(){},closing:function(){},drag:function(){}},c),this.connectElement(t),l||this.createHook(),this.init()}function a(t){d()(this,a),this.inWork=!1,this.xDown=null,this.yDown=null,this.xStart=null,this.yStart=null,this.xCurrent=null,this.yCurrent=null,this.currentDirection=null,"string"==typeof t?document.querySelectorAll(t).forEach(this.eventListener.bind(this)):this.eventListener(t)}window.MobileSwipeMenu=h}]);